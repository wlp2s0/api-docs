(self.webpackChunkdev_rev_docs=self.webpackChunkdev_rev_docs||[]).push([[2702],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=s(n),c=r,h=u["".concat(d,".").concat(c)]||u[c]||m[c]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6284:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return d},metadata:function(){return s},toc:function(){return p},default:function(){return u}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l=["components"],o={sidebar_position:2},d="Instance.payWithPopup",s={unversionedId:"revolut-checkout-js/initialize-widget/instance/instance-pay-with-popup",id:"revolut-checkout-js/initialize-widget/instance/instance-pay-with-popup",isDocsHomePage:!1,title:"Instance.payWithPopup",description:"Open a payment pop-up window, which is available on the Instance.",source:"@site/docs/revolut-checkout-js/initialize-widget/instance/instance-pay-with-popup.md",sourceDirName:"revolut-checkout-js/initialize-widget/instance",slug:"/revolut-checkout-js/initialize-widget/instance/instance-pay-with-popup",permalink:"/docs/revolut-checkout-js/initialize-widget/instance/instance-pay-with-popup",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"RevolutCheckout",previous:{title:"Instance type",permalink:"/docs/revolut-checkout-js/initialize-widget/instance/instance"},next:{title:"Instance.createCardField",permalink:"/docs/revolut-checkout-js/initialize-widget/instance/instance-create-card-field"}},p=[{value:"Options",id:"options",children:[]},{value:"Returns",id:"returns",children:[]},{value:"Examples",id:"examples",children:[{value:"Example with minimal required parameters",id:"example-with-minimal-required-parameters",children:[]},{value:"Example with minimal required parameters, assuming that the <code>billingAddress</code> object is not sent via API",id:"example-with-minimal-required-parameters-assuming-that-the-billingaddress-object-is-not-sent-via-api",children:[]},{value:"Example with all possible parameters",id:"example-with-all-possible-parameters",children:[]}]}],m={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"instancepaywithpopup"},"Instance.payWithPopup"),(0,i.kt)("p",null,"Open a payment pop-up window, which is available on the ",(0,i.kt)("a",{parentName:"p",href:"#instance"},(0,i.kt)("inlineCode",{parentName:"a"},"Instance")),"."),(0,i.kt)("h2",{id:"options"},"Options"),(0,i.kt)("p",null,"Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"Options")," object to specify the pages where the customer should be redirected and any additional information related to the payment of the customer:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"type InstancePayWithPopup = (\n  options: Options\n) => {\n  destroy: () => void;\n};\n\n\ntype Options = {\n  onSuccess?: () => void;\n  onError?: (message: string) => void;\n  onCancel?: () => void;\n  name: string;\n  email?: string;\n  phone?: string;\n  locale?: string;\n  savePaymentMethodFor?: string;\n  billingAddress?: {\n    countryCode: string;\n    region?: string;\n    city?: string;\n    postcode: string;\n    streetLine1?: string;\n    streetLine2?: string;\n  };\n  shippingAddress?: {\n    countryCode: string;\n    region?: string;\n    city?: string;\n    postcode: string;\n    streetLine1?: string;\n    streetLine2?: string;\n  };\n};\n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Format"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"onSuccess")),(0,i.kt)("td",{parentName:"tr",align:null},"Callback when the payment is successfully completed."),(0,i.kt)("td",{parentName:"tr",align:null},"Function")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"onError")),(0,i.kt)("td",{parentName:"tr",align:null},"Callback if the transaction fails to complete. The reason for the failure is available in the ",(0,i.kt)("inlineCode",{parentName:"td"},"message")," parameter."),(0,i.kt)("td",{parentName:"tr",align:null},"Function")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"onCancel")),(0,i.kt)("td",{parentName:"tr",align:null},"Callback if a user did not complete the transaction and cancelled the authorisation or closed the payment pop-up window."),(0,i.kt)("td",{parentName:"tr",align:null},"Function")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"locale")),(0,i.kt)("td",{parentName:"tr",align:null},"Controls the language of the text in the widget. Possible values are: ",(0,i.kt)("inlineCode",{parentName:"td"},"en")," (English), ",(0,i.kt)("inlineCode",{parentName:"td"},"es")," (Spanish), ",(0,i.kt)("inlineCode",{parentName:"td"},"de")," (German), ",(0,i.kt)("inlineCode",{parentName:"td"},"fr")," (French), ",(0,i.kt)("inlineCode",{parentName:"td"},"it")," (Italian), ",(0,i.kt)("inlineCode",{parentName:"td"},"nl")," (Dutch), ",(0,i.kt)("inlineCode",{parentName:"td"},"pl")," (Polish), ",(0,i.kt)("inlineCode",{parentName:"td"},"pt")," (Portuguese)"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:null},"Cardholder\u2019s name in the format of ",(0,i.kt)("inlineCode",{parentName:"td"},"FirstName LastName"),". This value is ",(0,i.kt)("strong",{parentName:"td"},"required"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"email")),(0,i.kt)("td",{parentName:"tr",align:null},"Customer's email. This is ",(0,i.kt)("strong",{parentName:"td"},"required")," if not set on the order via API."),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"phone")),(0,i.kt)("td",{parentName:"tr",align:null},"Customer's phone number if available"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"savePaymentMethodFor")),(0,i.kt)("td",{parentName:"tr",align:null},"Indicates in which case this saved payment method can be used for payments.",(0,i.kt)("br",null),(0,i.kt)("br",null),"Possible values:",(0,i.kt)("br",null),"- ",(0,i.kt)("inlineCode",{parentName:"td"},"customer"),": This method is used only when the customer is on the checkout page.",(0,i.kt)("br",null),"- ",(0,i.kt)("inlineCode",{parentName:"td"},"merchant"),": This method can be used without the customer being on the checkout page, and the merchant can initiate transactions (e.g. take payments for recurring transactions). This method is saved as the new default payment method for merchant initiated transactions, regardless of the number of saved payment methods stored against the customer."),(0,i.kt)("td",{parentName:"tr",align:null},"Enum")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress")),(0,i.kt)("td",{parentName:"tr",align:null},"Customer's billing address, which is required if not set on order via API."),(0,i.kt)("td",{parentName:"tr",align:null},"Object")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.countryCode")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{href:"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements",target:"_blank"},"Country code")," (e.g. ",(0,i.kt)("inlineCode",{parentName:"td"},"GB"),"). If sending the ",(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress"),", this is ",(0,i.kt)("strong",{parentName:"td"},"required"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.region")),(0,i.kt)("td",{parentName:"tr",align:null},"State, county or region"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.city")),(0,i.kt)("td",{parentName:"tr",align:null},"Name of the city (e.g. ",(0,i.kt)("inlineCode",{parentName:"td"},"London"),")"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.postcode")),(0,i.kt)("td",{parentName:"tr",align:null},"Postal code (e.g. ",(0,i.kt)("inlineCode",{parentName:"td"},"EC2V 6DN"),"). If sending the ",(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress"),", this is ",(0,i.kt)("strong",{parentName:"td"},"required"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.streetLine1")),(0,i.kt)("td",{parentName:"tr",align:null},"Address line 1 (e.g. ",(0,i.kt)("inlineCode",{parentName:"td"},"1 Canada Square"),")"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress.streetLine2")),(0,i.kt)("td",{parentName:"tr",align:null},"Address line 2 (optional)"),(0,i.kt)("td",{parentName:"tr",align:null},"String")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"shippingAddress")),(0,i.kt)("td",{parentName:"tr",align:null},"The same object as the ",(0,i.kt)("inlineCode",{parentName:"td"},"billingAddress")," object. However, it is displayed only in the order details on the ",(0,i.kt)("a",{href:"https://business.revolut.com/merchant",target:"_blank"},"merchant dashboard"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Object")))),(0,i.kt)("h2",{id:"returns"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Methods")," object:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Format"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"methods.destroy")),(0,i.kt)("td",{parentName:"tr",align:null},"Manually destroy payment pop-up if needed"),(0,i.kt)("td",{parentName:"tr",align:null},"Function")))),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("h3",{id:"example-with-minimal-required-parameters"},"Example with minimal required parameters"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'RevolutCheckout("<PUBLIC_ID>").then(function (instance) {\n  instance.payWithPopup({\n    onSuccess() {\n      window.alert("Thank you!");\n    },\n    onError(message) {\n      window.alert("Oh no :(");\n    },\n    name: "John Smith"\n  });\n});\n')),(0,i.kt)("h3",{id:"example-with-minimal-required-parameters-assuming-that-the-billingaddress-object-is-not-sent-via-api"},"Example with minimal required parameters, assuming that the ",(0,i.kt)("inlineCode",{parentName:"h3"},"billingAddress")," object is not sent via API"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'RevolutCheckout("<PUBLIC_ID>").then(function (instance) {\n  instance.payWithPopup({\n    onSuccess() {\n      window.alert("Thank you!");\n    },\n    onError(message) {\n      window.alert("Oh no :(");\n    },\n    locale: "es",\n    name: "John Smith",\n    billingAddress: {\n      countryCode: "GB",\n      region: "Greater London",\n      city: "London",\n      streetLine1: "Revolut",\n      streetLine2: "1 Canada Square",\n      postcode: "EC2V 6DN"\n    },\n  });\n});\n')),(0,i.kt)("h3",{id:"example-with-all-possible-parameters"},"Example with all possible parameters"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'RevolutCheckout("<PUBLIC_ID>").then(function (instance) {\n  var popup = instance.payWithPopup({\n    name: "John Smith",\n    email: "customer@example.com",\n    phone: "+447950630319",\n    locale: "es",\n    billingAddress: {\n      countryCode: "GB",\n      region: "Greater London",\n      city: "London",\n      streetLine1: "Revolut",\n      streetLine2: "1 Canada Square",\n      postcode: "EC2V 6DN"\n    },\n    shippingAddress: {\n      countryCode: "GB",\n      region: "Greater London",\n      city: "London",\n      streetLine1: "Revolut",\n      streetLine2: "1 Canada Square",\n      postcode: "EC2V 6DN"\n    },\n    onSuccess() {\n      window.alert("Thank you!");\n    },\n    onError(message) {\n      window.alert("Oh no :(");\n    }\n  });\n\n\n  // ...\n\n\n  popup.destroy();\n});\n')),(0,i.kt)("div",{class:"feedback"}))}u.isMDXComponent=!0}}]);