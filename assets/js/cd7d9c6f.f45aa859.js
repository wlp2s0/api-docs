(self.webpackChunkdev_rev_docs=self.webpackChunkdev_rev_docs||[]).push([[4675],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return u},kt:function(){return c}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),d=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},u=function(t){var e=d(t.components);return a.createElement(o.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,o=t.parentName,u=p(t,["components","mdxType","originalType","parentName"]),m=d(n),c=r,g=m["".concat(o,".").concat(c)]||m[c]||s[c]||i;return n?a.createElement(g,l(l({ref:e},u),{},{components:n})):a.createElement(g,l({ref:e},u))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,l=new Array(i);l[0]=m;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p.mdxType="string"==typeof t?t:r,l[1]=p;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6430:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return u},default:function(){return m}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l=["components"],p={sidebar_position:5,title:"4. Create a JWT"},o="Create a JWT",d={unversionedId:"build-banking-apps/register-your-application-using-dcr/create-a-jwt",id:"build-banking-apps/register-your-application-using-dcr/create-a-jwt",isDocsHomePage:!1,title:"4. Create a JWT",description:"To create a JWT, specify the parameters that are required for your application in the JWT header and the payload. For the JWT signature, include both the public key and the signing certificate's RSA private key. jwt.io is a helpful tool for debugging JWTs.",source:"@site/docs/build-banking-apps/register-your-application-using-dcr/create-a-jwt.md",sourceDirName:"build-banking-apps/register-your-application-using-dcr",slug:"/build-banking-apps/register-your-application-using-dcr/create-a-jwt",permalink:"/docs/build-banking-apps/register-your-application-using-dcr/create-a-jwt",version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"4. Create a JWT"},sidebar:"docs",previous:{title:"3. Get your certificate's distinguished name",permalink:"/docs/build-banking-apps/register-your-application-using-dcr/ get-your-certificates-distinguished-name"},next:{title:"5. Validate your JWT",permalink:"/docs/build-banking-apps/register-your-application-using-dcr/validate-your-jwt"}},u=[{value:"Parameters",id:"parameters",children:[]}],s={toc:u};function m(t){var e=t.components,n=(0,r.Z)(t,l);return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"create-a-jwt"},"Create a JWT"),(0,i.kt)("p",null,"To create a ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/JSON_Web_Token"},"JWT"),", specify the parameters that are required for your application in the JWT header and the payload. For the JWT signature, include both the public key and the signing certificate's RSA private key. ",(0,i.kt)("a",{href:"https://jwt.io/"},"jwt.io")," is a helpful tool for debugging JWTs."),(0,i.kt)("p",null,"Ensure that the parameters meet the following format. You can also check the examples below."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Example: JWT header")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "kid": "<insert kid>",\n  "alg": "PS256"\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Example: JWT payload")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "iss": "test-iss",\n  "iat": 1591352490,\n  "exp": 1591356090,\n  "aud": "https://revolut.com",\n  "scope": ["openid", "payments", "accounts", "fundsconfirmations"],\n  "redirect_uris": ["http://url/one"],\n  "token_endpoint_auth_method": "tls_client_auth",\n  "application_type": "web",\n  "id_token_signed_response_alg": "PS256",\n  "request_object_signing_alg": "PS256",\n  "tls_client_auth_dn": <insert tls_client_auth_dn>,\n  "software_statement": <insert software_statement>\n}\n')),(0,i.kt)("h2",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"JWT header"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"kid")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The key ID of a public key from the JWKs file."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"alg")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The signing algorithm used. Currently, only PS256 is supported."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"JWT payload"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"REQUIRED"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"iss")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The principal that issued the JWT."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"iat")),(0,i.kt)("td",{parentName:"tr",align:null},"numeric"),(0,i.kt)("td",{parentName:"tr",align:null},"The time the JWT was issued, which is used to determine the age of the JWT."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"exp")),(0,i.kt)("td",{parentName:"tr",align:null},"numeric"),(0,i.kt)("td",{parentName:"tr",align:null},"The expiration time that the JWT must not be accepted for processing on or after."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"aud")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The recipients that the JWT is intended for."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"scope")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"List of scopes. The supported scopes are ",(0,i.kt)("inlineCode",{parentName:"td"},"openid")," (required), ",(0,i.kt)("inlineCode",{parentName:"td"},"accounts"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"payments"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"fundsconfirmations"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"redirect_uris")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"List of allowed redirect URIs."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"token_endpoint_auth_method")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The authorization method for the ",(0,i.kt)("inlineCode",{parentName:"td"},"token")," endpoint. Currently, only ",(0,i.kt)("inlineCode",{parentName:"td"},"tls_client_auth")," is supported."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"application_type")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The application type."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"id_token_signed_response_alg")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The signing algorithm used. Currently, only ",(0,i.kt)("inlineCode",{parentName:"td"},"PS256")," is supported."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"request_object_signing_alg")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The signing algorithm used. Currently, only ",(0,i.kt)("inlineCode",{parentName:"td"},"PS256")," is supported."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"tls_client_auth_dn")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The distinguished name of the certificate that the TPP uses."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"software_statement")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The software statement assertion issued by the issuer in JWT format."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,i.kt)("div",{class:"feedback"}))}m.isMDXComponent=!0}}]);