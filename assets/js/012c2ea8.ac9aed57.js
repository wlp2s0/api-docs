(self.webpackChunkdev_rev_docs=self.webpackChunkdev_rev_docs||[]).push([[5570],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return u},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=r,k=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},8215:function(e,t,a){"use strict";var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},5064:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(7294),r=a(9443);var i=function(){var e=(0,n.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},o=a(6010),l="tabItem_1uMI",s="tabItemActive_2DSg";var c=37,u=39;var d=function(e){var t=e.lazy,a=e.block,r=e.defaultValue,d=e.values,p=e.groupId,m=e.className,k=i(),h=k.tabGroupChoices,f=k.setTabGroupChoices,g=(0,n.useState)(r),N=g[0],y=g[1],v=n.Children.toArray(e.children),b=[];if(null!=p){var w=h[p];null!=w&&w!==N&&d.some((function(e){return e.value===w}))&&y(w)}var _=function(e){var t=e.currentTarget,a=b.indexOf(t),n=d[a].value;y(n),null!=p&&(f(p,n),setTimeout((function(){var e,a,n,r,i,o,l,c;(e=t.getBoundingClientRect(),a=e.top,n=e.left,r=e.bottom,i=e.right,o=window,l=o.innerHeight,c=o.innerWidth,a>=0&&i<=c&&r<=l&&n>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},x=function(e){var t,a;switch(e.keyCode){case u:var n=b.indexOf(e.target)+1;a=b[n]||b[0];break;case c:var r=b.indexOf(e.target)-1;a=b[r]||b[b.length-1]}null==(t=a)||t.focus()};return n.createElement("div",{className:"tabs-container"},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},m)},d.map((function(e){var t=e.value,a=e.label;return n.createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,o.Z)("tabs__item",l,{"tabs__item--active":N===t}),key:t,ref:function(e){return b.push(e)},onKeyDown:x,onFocus:_,onClick:_},a)}))),t?(0,n.cloneElement)(v.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):n.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}},9443:function(e,t,a){"use strict";var n=(0,a(7294).createContext)(void 0);t.Z=n},5916:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return c},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return p},default:function(){return k}});var n=a(2122),r=a(9756),i=(a(7294),a(3905)),o=a(5064),l=a(8215),s=["components"],c={sidebar_position:3},u="3. Make your first API request",d={unversionedId:"manage-accounts/get-started/make-your-firs-api-request",id:"manage-accounts/get-started/make-your-firs-api-request",isDocsHomePage:!1,title:"3. Make your first API request",description:"To start making your first API request, you must complete the initial setup, which is shown in the following high-level procedure:",source:"@site/docs/manage-accounts/get-started/make-your-firs-api-request.md",sourceDirName:"manage-accounts/get-started",slug:"/manage-accounts/get-started/make-your-firs-api-request",permalink:"/docs/manage-accounts/get-started/make-your-firs-api-request",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docs",previous:{title:"2. Prepare your Sandbox environment",permalink:"/docs/manage-accounts/get-started/prepare-sandbox-environment"},next:{title:"1. Create a counterparty",permalink:"/docs/manage-accounts/tutorials/create-a-counterparty"}},p=[{value:"1. Upload your certificate",id:"1-upload-your-certificate",children:[{value:"Before you begin",id:"before-you-begin",children:[]},{value:"Procedure",id:"procedure",children:[]}]},{value:"2. Consent the application",id:"2-consent-the-application",children:[]},{value:"3. Generate a client assertion",id:"3-generate-a-client-assertion",children:[]},{value:"4. Exchange authorization code for access token",id:"4-exchange-authorization-code-for-access-token",children:[{value:"Request fields (URL-encoded)",id:"request-fields-url-encoded",children:[]}]},{value:"5. Refresh access token",id:"5-refresh-access-token",children:[{value:"Request fields (URL-encoded)",id:"request-fields-url-encoded-1",children:[]}]},{value:"6. Try your first API request",id:"6-try-your-first-api-request",children:[]},{value:"What\u2019s next",id:"whats-next",children:[]}],m={toc:p};function k(e){var t=e.components,a=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"3-make-your-first-api-request"},"3. Make your first API request"),(0,i.kt)("p",null,"To start making your first API request, you must complete the initial setup, which is shown in the following high-level procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-1-upload-your-certificate"},"Upload your certificate")," to authorize your application to access your Revolut Business account via the Business API."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-2-consent-the-application"},"Consent the application")," and you obtain an authorization code and the client ID."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-3-generate-a-client-assertion"},"Provide a client assertion JWT")," to exchange your authorization code for access token."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-4-exchange-authorization-code-for-access-token"},"Exchange authorization code for access token")," that you can use to access the Business API."),(0,i.kt)("li",{parentName:"ol"},"When the access token expires, ",(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-5-refresh-access-token"},"request a new access token"),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-6-try-your-first-api-request"},"Try your first API request")," to get a list of all your accounts.")),(0,i.kt)("p",null,"After you complete and validate the setup, you can make different requests to the Business API."),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"1-upload-your-certificate"},"1. Upload your certificate"),(0,i.kt)("p",null,"Authorize your application to access your Revolut Business account via the Business API. To do this, you need to first upload your certificate on the API settings page of the Revolut Business portal."),(0,i.kt)("h3",{id:"before-you-begin"},"Before you begin"),(0,i.kt)("p",null,"Create a private and public key:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"$ openssl genrsa -out privatekey.pem 1024\n$ openssl req -new -x509 -key privatekey.pem -out publickey.cer -days 1825\n")),(0,i.kt)("p",null,"Create a public/private key pair, and then copy and paste the ",(0,i.kt)("inlineCode",{parentName:"p"},"publickey.cer")," into the required field when you complete the following steps."),(0,i.kt)("h3",{id:"procedure"},"Procedure"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Log in to your ",(0,i.kt)("a",{href:"https://business.revolut.com/"},"Revolut Business portal"),", and go to ",(0,i.kt)("strong",{parentName:"li"},"Settings")," > ",(0,i.kt)("strong",{parentName:"li"},"API"),"."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Add certificate"),"."),(0,i.kt)("li",{parentName:"ol"},"Copy and paste the ",(0,i.kt)("inlineCode",{parentName:"li"},"publickey.cer")," to the ",(0,i.kt)("strong",{parentName:"li"},"X509 public key")," field."),(0,i.kt)("li",{parentName:"ol"},"Specify the ",(0,i.kt)("inlineCode",{parentName:"li"},"OAuth redirect URI"),". This is the URL where you are redirected after you consent the application to access your Revolut Business account."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Continue"),".")),(0,i.kt)("p",null,"You are directed to the API Certificate page where you need to consent the application."),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"2-consent-the-application"},"2. Consent the application"),(0,i.kt)("p",null,"Sample Confirmation URL:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"https://business.revolut.com/app-confirm?client_id=n0z4gsis9cGhwaYxxMlLQ7FScijU6NuqZV1MEP8YQI0&redirect_uri=http://revolutredirect.com/&response_type=code#authorise\n")),(0,i.kt)("p",null,"Sample Redirect:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"https://www.revolutredirect.com/?code=oa_prod_vYo3mAI9TmJuo2_ukYlHVZMh3OiszmfQdgVqk_gLSkU\n")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"On the API Certificate page, get your client ID from the ",(0,i.kt)("code",null,"ClientId")," field."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Enable API access to your account"),". You are redirected to the ",(0,i.kt)("inlineCode",{parentName:"li"},"/app-confirm")," URL where you grant your application to access your account via the Business API. ",(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You can also see the ",(0,i.kt)("inlineCode",{parentName:"p"},"client_id")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},"app-confirm")," URL. Check the sample confirmation URL on the right.")))),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Authorise"),". This triggers two-factor authentication process. On successful authorization, you are redirected to the ",(0,i.kt)("inlineCode",{parentName:"li"},"OAuth redirect URI")," tht you specified."),(0,i.kt)("li",{parentName:"ol"},"Get the ",(0,i.kt)("inlineCode",{parentName:"li"},"authorization_code")," from the redirect URI. Check the sample direct on the right.")),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"3-generate-a-client-assertion"},"3. Generate a client assertion"),(0,i.kt)("p",null,"JWT Header:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "alg": "RS256",\n  "typ": "JWT"\n}\n')),(0,i.kt)("p",null,"JWT Payload:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "iss": <insert your_domain>,\n  "sub": <insert client_id>,\n  "aud": "https://revolut.com",\n  "exp": <insert expiry_date>\n}\n  \n')),(0,i.kt)("p",null,"Generate a client-assertion JWT that you use to exchange your authorization code for access token. The client-assertion JWT should be signed with your private key."),(0,i.kt)("p",null,"Ensure that the parameters meet the following format. Check the JWT header and the payload examples on the right."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Schema"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"iss")),(0,i.kt)("td",{parentName:"tr",align:null},"Domain from ",(0,i.kt)("inlineCode",{parentName:"td"},"redirect_url")," (without ",(0,i.kt)("inlineCode",{parentName:"td"},"http://"),")"),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"sub")),(0,i.kt)("td",{parentName:"tr",align:null},"Your ",(0,i.kt)("inlineCode",{parentName:"td"},"client_id")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"aud")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"https://revolut.com")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"exp")),(0,i.kt)("td",{parentName:"tr",align:null},"JWT expiration date"),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"UNIX timestamp in seconds")))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("b",null,"Tip"),": You can use the ",(0,i.kt)("a",{href:"https://jwt.io/#debugger-io"},"JWT debugging tool")," to check if your JWT is valid.")),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"4-exchange-authorization-code-for-access-token"},"4. Exchange authorization code for access token"),(0,i.kt)("p",null,"Exchange for an access token:"),(0,i.kt)(o.Z,{defaultValue:"prod",values:[{label:"Production",value:"prod"},{label:"Sandbox",value:"sandbox"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"prod",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://b2b.revolut.com/api/1.0/auth/token \\\n  -H "Content-Type: application/x-www-form-urlencoded"\\\n  --data "grant_type=authorization_code"\\\n  --data "code=<insert authorisation_code>"\\\n  --data "client_id=<insert client_id>"\\\n  --data "client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer"\\\n  --data "client_assertion=<insert JWT>"\n'))),(0,i.kt)(l.Z,{value:"sandbox",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://sandbox-b2b.revolut.com/api/1.0/auth/token \\\n  -H "Content-Type: application/x-www-form-urlencoded"\\\n  --data "grant_type=authorization_code"\\\n  --data "code=<insert authorisation_code>"\\\n  --data "client_id=<insert client_id>"\\\n  --data "client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer"\\\n  --data "client_assertion=<insert JWT>"\n')))),(0,i.kt)("p",null,"Response:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "oa_sand_rPo9OmbMAuguhQffR6RLR4nvmzpx4NJtpdyvGKkrS3U",\n  "token_type": "bearer",\n  "expires_in": 2399,\n  "refresh_token": "oa_prod_hQacSGnwx-luIfj3dlVByrytVV9rWAnyHkpJTwG_Tr8"\n}\n')),(0,i.kt)("p",null,"Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"authorization_code"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"client_assertion"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"client_id")," generated from the previous steps to exchange for an access token that you can use to access the Business API."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Every access token is valid only for 40 minutes. After the access token expires, you must request a new access token.\nFor more information, see ",(0,i.kt)("a",{href:"#get-started-get-started-make-your-first-api-request-5-refresh-access-token"},"Refresh access token"),"."))),(0,i.kt)("h3",{id:"request-fields-url-encoded"},"Request fields (URL-encoded)"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Schema"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"grant_type")),(0,i.kt)("td",{parentName:"tr",align:null},"The OAuth grant type: ",(0,i.kt)("inlineCode",{parentName:"td"},"authorization_code"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"code")),(0,i.kt)("td",{parentName:"tr",align:null},"The authorization code."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_id")),(0,i.kt)("td",{parentName:"tr",align:null},"The application ID."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_assertion_type")),(0,i.kt)("td",{parentName:"tr",align:null},"The type of the client assertion: ",(0,i.kt)("inlineCode",{parentName:"td"},"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_assertion")),(0,i.kt)("td",{parentName:"tr",align:null},"The JWT token that you generated."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")))),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"5-refresh-access-token"},"5. Refresh access token"),(0,i.kt)("p",null,"Refresh access token:"),(0,i.kt)(o.Z,{defaultValue:"prod",values:[{label:"Production",value:"prod"},{label:"Sandbox",value:"sandbox"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"prod",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://b2b.revolut.com/api/1.0/auth/token \\\n  -H "Content-Type: application/x-www-form-urlencoded"\\\n  --data "grant_type=refresh_token"\\\n  --data "refresh_token=oa_prod_gg-_wDV66wYfKKpnF4RIrpOZs2oPTwNp4TXOra5pS0g"\\\n  --data "client_id=<insert client_id>"\\\n  --data "client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer"\\\n  --data "client_assertion=<insert JWT>"\n'))),(0,i.kt)(l.Z,{value:"sandbox",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://sandbox-b2b.revolut.com/api/1.0/auth/token \\\n  -H "Content-Type: application/x-www-form-urlencoded"\\\n  --data "grant_type=refresh_token"\\\n  --data "refresh_token=<insert refresh_token>"\\\n  --data "client_id=<insert client_id>"\\\n  --data "client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer"\\\n  --data "client_assertion=<insert JWT>"\n')))),(0,i.kt)("p",null,"Response:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "oa_prod_rPo9OmbMAuguhQffR6RLR4nvmzpx4NJtpdyvGKkrS3U",\n  "token_type": "bearer",\n  "expires_in": 2399\n}\n')),(0,i.kt)("p",null,"After the access token expires, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"refresh_token")," to request a new one."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"For businesses on the freelancer plan, the ",(0,i.kt)("code",null,"refresh token")," is terminated every 90 days to ensure compliance to PSD2 SCA regulations.\nTherefore, you must authorize the API to access your account once more and request a new access token."))),(0,i.kt)("h3",{id:"request-fields-url-encoded-1"},"Request fields (URL-encoded)"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Schema"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"grant_type")),(0,i.kt)("td",{parentName:"tr",align:null},"The OAuth grant type: ",(0,i.kt)("inlineCode",{parentName:"td"},"refresh_token"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"refresh_token")),(0,i.kt)("td",{parentName:"tr",align:null},"The refresh token."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_id")),(0,i.kt)("td",{parentName:"tr",align:null},"The application ID."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_assertion_type")),(0,i.kt)("td",{parentName:"tr",align:null},"The type of the client assertion: ",(0,i.kt)("inlineCode",{parentName:"td"},"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),"."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"client_assertion")),(0,i.kt)("td",{parentName:"tr",align:null},"The JWT token that you generated."),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"Text")))),(0,i.kt)("div",{class:"feedback"}),(0,i.kt)("h2",{id:"6-try-your-first-api-request"},"6. Try your first API request"),(0,i.kt)("p",null,"Get a list of accounts:"),(0,i.kt)(o.Z,{defaultValue:"prod",values:[{label:"Production",value:"prod"},{label:"Sandbox",value:"sandbox"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"prod",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://b2b.revolut.com/api/1.0/accounts \\\n  -H "Authorization: Bearer <your access token>"\n'))),(0,i.kt)(l.Z,{value:"sandbox",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl https://sandbox-b2b.revolut.com/api/1.0/accounts \\\n  -H "Authorization: Bearer <your access token>"\n')))),(0,i.kt)("p",null,"Response:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "id": "2a0d4d03-e26c-4159-9de1-c6bf3adfd8a1",\n    "name": "Current GBP account",\n    "balance": 100.0,\n    "currency": "GBP",\n    "state": "active",\n    "public": false,\n    "updated_at": "2017-06-01T11:11:11.1Z",\n    "created_at": "2017-06-01T11:11:11.1Z"\n  },\n  {\n    "id": "df8d6b20-0725-482e-a29e-fb09631480cf",\n    "name": "EUR expenses account",\n    "balance": 1234.0,\n    "currency": "EUR",\n    "state": "active",\n    "public": false,\n    "created_at": "2017-06-01T11:11:11.1Z",\n    "updated_at": "2017-06-01T11:11:11.1Z"\n  }\n]\n')),(0,i.kt)("p",null,"Congratulations! You're ready to make requests to the Business API with an access token."),(0,i.kt)("p",null,"To verify that everything is working, make a request to the ",(0,i.kt)("a",{href:"https://developer.revolut.com/api-reference/business/#operation/getAccounts"},(0,i.kt)("inlineCode",{parentName:"p"},"/accounts")," endpoint")," to get a list of all your accounts."),(0,i.kt)("h2",{id:"whats-next"},"What\u2019s next"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"See the ",(0,i.kt)("a",{href:"https://developer.revolut.com/api-reference/business/",target:"_blank"},"API Reference")," for full details on different endpoints of Business API."),(0,i.kt)("li",{parentName:"ul"},"See the ",(0,i.kt)("a",{href:"#tutorials"},"tutorials")," for using various Business API endpoints.")))}k.isMDXComponent=!0},6010:function(e,t,a){"use strict";function n(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(r&&(r+=" "),r+=t);return r}a.d(t,{Z:function(){return r}})}}]);